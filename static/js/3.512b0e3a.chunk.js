"use strict";(self.webpackChunkchat=self.webpackChunkchat||[]).push([[3],{3003:function(e,a,t){t.r(a),t.d(a,{default:function(){return x}});var s=t(5861),n=t(8152),r=t(4687),c=t.n(r),i=t(6871),l=t(2791),o=t(9434),h=t(7637),m={content:"PersonalChat_content__yxpt8",item:"PersonalChat_item__+h5aV",user:"PersonalChat_user__kJixZ",avatarWrap:"PersonalChat_avatarWrap__Ktjpq",avatar:"PersonalChat_avatar__45uKM",itemCheck:"PersonalChat_itemCheck__Hvzjj",isCheck:"PersonalChat_isCheck__brTsv PersonalChat_itemCheck__Hvzjj",isNotCheck:"PersonalChat_isNotCheck__OJmxo PersonalChat_itemCheck__Hvzjj",name:"PersonalChat_name__4i9zO",chat:"PersonalChat_chat__sbyfU",msgList:"PersonalChat_msgList__GAvZ8",msg:"PersonalChat_msg__M31B3",msgWrapReq:"PersonalChat_msgWrapReq__nGInh",msgWrapRes:"PersonalChat_msgWrapRes__7Zqfo",msgTextReq:"PersonalChat_msgTextReq__LzAlq",msgTextRes:"PersonalChat_msgTextRes__NTBGx",date:"PersonalChat_date__U0Q2Z",dateRes:"PersonalChat_dateRes__aVbc3 PersonalChat_date__U0Q2Z",msgForm:"PersonalChat_msgForm__AG70i",form:"PersonalChat_form__Yl3VI",input:"PersonalChat_input__P+00r",btn:"PersonalChat_btn__TzcFy"},u=t(9126),_=t(6856),d=t(4569),p=t.n(d);p().defaults.baseURL="https://api.chucknorris.io";var g=function(){var e=(0,s.Z)(c().mark((function e(){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p().get("/jokes/random");case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=t(184),x=function(){var e=(0,l.useState)(!1),a=(0,n.Z)(e,2),t=a[0],r=a[1],d=(0,l.useState)(""),p=(0,n.Z)(d,2),x=p[0],C=p[1],f=(0,i.UO)().id,j=(0,o.v9)(h.vK),P=(0,o.I0)(),N=(0,l.useRef)(),k=j.find((function(e){return e.id===f})),R=k.avatar,T=k.name,b=k.isCheck,w=k.messages,y={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};function q(){return(q=(0,s.Z)(c().mark((function e(){var a,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:a=e.sent,t=new Date,P((0,h.Hz)({id:2*w.length,msgText:a.value,date:t.toLocaleString("en-US",y),chatId:f})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}(0,l.useEffect)((function(){var e;0!==w.length&&(null===(e=N.current)||void 0===e||e.scrollIntoView())}),[w]);var z=b?m.isCheck:m.isNotCheck;return(0,v.jsxs)(v.Fragment,{children:[t&&alert("Oop! Something went wrong! Try again later!"),(0,v.jsxs)("div",{className:m.content,children:[(0,v.jsxs)("div",{className:m.user,children:[(0,v.jsxs)("span",{className:m.avatarWrap,children:[(0,v.jsx)("img",{className:m.avatar,src:R,alt:"User avatar",width:"55"}),(0,v.jsx)(u.nRB,{size:"18px",className:z})]}),(0,v.jsx)("span",{className:m.name,children:T})]}),(0,v.jsx)("div",{className:m.chat,children:(0,v.jsx)("ul",{className:m.msgList,children:w.map((function(e){return(0,v.jsxs)("li",{ref:N,className:m.msg,children:[e.id%2===0&&(0,v.jsx)("img",{className:m.avatar,src:R,alt:"User avatar",width:"55"}),(0,v.jsxs)("div",{className:e.id%2!==0?m.msgWrapReq:m.msgWrapRes,children:[(0,v.jsx)("p",{className:e.id%2!==0?m.msgTextReq:m.msgTextRes,children:e.msgText}),(0,v.jsx)("p",{className:e.id%2!==0?m.date:m.dateRes,children:e.date})]})]},e.id)}))})}),(0,v.jsx)("div",{className:m.msgForm,children:(0,v.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=new Date;P((0,h.Hz)({id:w.length%2===0?w.length+1:w.length+2,msgText:x,date:a.toLocaleString("en-US",y),chatId:f})),setTimeout((function(){!function(){q.apply(this,arguments)}()}),1e4),C("")},className:m.form,children:[(0,v.jsx)("input",{className:m.input,type:"text",name:"message",placeholder:"Type your message",value:x,onChange:function(e){return C(e.target.value)},required:!0}),(0,v.jsx)("button",{type:"submit",className:m.btn,children:(0,v.jsx)(_.ThP,{size:"24px",className:m.btnIcon})})]})})]})]})}}}]);
//# sourceMappingURL=3.512b0e3a.chunk.js.map